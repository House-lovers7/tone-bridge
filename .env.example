# ========================================
# ToneBridge Environment Configuration
# ========================================
# Copy this file to .env and update the values
# cp .env.example .env

# ========================================
# 環境設定
# ========================================
NODE_ENV=development
APP_NAME=ToneBridge
APP_URL=http://localhost:8080
LOG_LEVEL=debug

# ========================================
# データベース設定
# ========================================
DATABASE_URL=postgresql://tonebridge:tonebridge123@localhost:5432/tonebridge
DB_HOST=postgres
DB_PORT=5432
DB_USER=tonebridge
DB_PASSWORD=tonebridge123
DB_NAME=tonebridge

# Redis設定
REDIS_URL=redis://localhost:6379
REDIS_HOST=redis
REDIS_PORT=6379

# ========================================
# 認証設定
# ========================================
JWT_SECRET=your-jwt-secret-min-32-characters-change-in-production
JWT_REFRESH_SECRET=your-refresh-secret-min-32-characters-change-in-production
JWT_EXPIRES_IN=3600
JWT_REFRESH_EXPIRES_IN=86400
API_KEY_SALT=your-api-key-salt-change-in-production

# ========================================
# LLM プロバイダー設定（必須）
# ========================================
# OpenAI API Key (必須)
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# その他のLLMプロバイダー（オプション）
ANTHROPIC_API_KEY=
GOOGLE_API_KEY=

# LLM設定
LLM_PROVIDER=openai
LLM_MODEL=gpt-4-turbo-preview
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# ========================================
# サービスURL設定（マイクロサービス）
# ========================================
TRANSFORM_SERVICE_URL=http://llm:8000
ANALYZE_SERVICE_URL=http://llm:8000
AUTO_TRANSFORM_SERVICE_URL=http://auto-transform:8003
ML_SERVICE_URL=http://ml-training:8004

# API Gateway設定
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8080
API_GATEWAY_PREFORK=false

# WebSocket設定
WEBSOCKET_PORT=3001
WEBSOCKET_CORS_ORIGIN=http://localhost:3000,http://localhost:8080

# ========================================
# キャッシュ設定
# ========================================
CACHE_TTL=300
CACHE_MAX_SIZE=10000
L1_CACHE_ENABLED=true
L2_CACHE_ENABLED=true

# ========================================
# レート制限設定
# ========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_SKIP_FAILED_REQUESTS=false

# ========================================
# CORS設定
# ========================================
CORS_ENABLED=true
CORS_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:3001
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=Content-Type,Authorization

# ========================================
# セキュリティ設定
# ========================================
SECURITY_HEADERS_ENABLED=true
HELMET_ENABLED=true
CSRF_ENABLED=false
XSS_PROTECTION=true

# ========================================
# モニタリング設定（オプション）
# ========================================
SENTRY_DSN=
PROMETHEUS_METRICS_ENABLED=false
GRAFANA_API_KEY=

# ========================================
# Slack統合（オプション）
# ========================================
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_APP_TOKEN=

# ========================================
# Teams統合（オプション）
# ========================================
MICROSOFT_APP_ID=
MICROSOFT_APP_PASSWORD=
MICROSOFT_TENANT_ID=

# ========================================
# Discord統合（オプション）
# ========================================
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_GUILD_ID=

# ========================================
# メール設定（オプション）
# ========================================
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@tonebridge.io

# ========================================
# 開発環境設定
# ========================================
DEBUG=true
VERBOSE_LOGGING=true
MOCK_LLM=false
HOT_RELOAD=true

# ========================================
# テスト環境設定
# ========================================
TEST_DATABASE_URL=postgresql://tonebridge:tonebridge123@localhost:5432/tonebridge_test
TEST_REDIS_URL=redis://localhost:6379/1